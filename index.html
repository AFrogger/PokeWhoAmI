<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pokemon - Who Am I?</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
      <h2>Loading Pokemon...</h2>
      <div class="progress-bar">
        <div id="progress-fill" class="progress-fill"></div>
      </div>
      <p id="loading-text">0%</p>
    </div>

    <!-- Main App Container -->
    <div id="app-container" class="app-container hidden">
      <!-- Header -->
      <header class="header">
        <h1>Pokemon - Who Am I?</h1>
        <div id="chosen-pokemon-display" class="chosen-pokemon-display">
          <span class="no-choice">Choose your Pokemon</span>
        </div>
        <div id="remaining-counter" class="remaining-counter">
          <span class="counter-label">Remaining:</span>
          <span class="counter-value">0</span>
        </div>
        <div class="header-controls">
          <div class="language-selector">
            <button
              id="lang-toggle-btn"
              class="icon-btn"
              title="Change Language"
            >
              <img
                id="current-lang-flag"
                src="https://flagcdn.com/w40/gb.png"
                alt="English"
              />
            </button>
            <div id="lang-dropdown" class="lang-dropdown hidden">
              <button class="lang-option" data-lang="en" title="English">
                <img src="https://flagcdn.com/w40/gb.png" alt="English" />
                <span>English</span>
              </button>
              <button class="lang-option" data-lang="de" title="Deutsch">
                <img src="https://flagcdn.com/w40/de.png" alt="Deutsch" />
                <span>Deutsch</span>
              </button>
              <button class="lang-option" data-lang="es" title="Espa√±ol">
                <img src="https://flagcdn.com/w40/es.png" alt="Espa√±ol" />
                <span>Espa√±ol</span>
              </button>
              <button class="lang-option" data-lang="fr" title="Fran√ßais">
                <img src="https://flagcdn.com/w40/fr.png" alt="Fran√ßais" />
                <span>Fran√ßais</span>
              </button>
              <button class="lang-option" data-lang="ja" title="Êó•Êú¨Ë™û">
                <img src="https://flagcdn.com/w40/jp.png" alt="Êó•Êú¨Ë™û" />
                <span>Êó•Êú¨Ë™û</span>
              </button>
              <button class="lang-option" data-lang="ko" title="ÌïúÍµ≠Ïñ¥">
                <img src="https://flagcdn.com/w40/kr.png" alt="ÌïúÍµ≠Ïñ¥" />
                <span>ÌïúÍµ≠Ïñ¥</span>
              </button>
            </div>
          </div>
          <button id="info-btn" class="icon-btn" title="Info">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="16" x2="12" y2="12"></line>
              <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
          </button>
          <button id="settings-btn" class="icon-btn" title="Settings">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <circle cx="12" cy="12" r="3"></circle>
              <path d="M12 1v6m0 6v6m5.196-14.196l-4.242 4.242m0 5.908l-4.242 4.242M23 12h-6m-6 0H1m14.196 5.196l-4.242-4.242m0-5.908l-4.242-4.242"></path>
            </svg>
          </button>
          <button
            id="dark-mode-toggle"
            class="icon-btn"
            title="Toggle Dark Mode"
          >
            <svg
              id="sun-icon"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <circle cx="12" cy="12" r="5"></circle>
              <line x1="12" y1="1" x2="12" y2="3"></line>
              <line x1="12" y1="21" x2="12" y2="23"></line>
              <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
              <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
              <line x1="1" y1="12" x2="3" y2="12"></line>
              <line x1="21" y1="12" x2="23" y2="12"></line>
              <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
              <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
            </svg>
            <svg
              id="moon-icon"
              class="hidden"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
          </button>
          <button id="reset-btn" class="reset-btn">Reset All</button>
        </div>
      </header>

      <!-- Info Modal -->
      <div id="info-modal" class="modal hidden">
        <div class="modal-content">
          <span class="modal-close">&times;</span>
          <h2>Legal Disclaimer</h2>
          <p>
            This is a fan-made application for educational and entertainment
            purposes only.
          </p>
          <p><strong>Not affiliated with:</strong></p>
          <ul>
            <li>Nintendo Co., Ltd.</li>
            <li>The Pok√©mon Company</li>
            <li>Game Freak Inc.</li>
            <li>Creatures Inc.</li>
          </ul>
          <p>
            Pok√©mon and Pok√©mon character names are trademarks of Nintendo. All
            game data and sprites are retrieved from the
            <a href="https://pokeapi.co/" target="_blank" rel="noopener"
              >Pok√©API</a
            >.
          </p>
          <p>
            This project is not authorized, sponsored, or approved by any of the
            companies mentioned above.
          </p>
        </div>
      </div>

      <!-- Settings Modal -->
      <div id="settings-modal" class="modal hidden">
        <div class="modal-content">
          <span class="settings-modal-close modal-close">&times;</span>
          <h2>Settings</h2>

          <div class="settings-section">
            <h3>Cache Management</h3>
            <div class="cache-info">
              <p><strong>Status:</strong> <span id="cache-status-text">Checking...</span></p>
              <p><strong>Last Updated:</strong> <span id="cache-last-updated">-</span></p>
              <p><strong>Cached Pokemon:</strong> <span id="cache-count">0</span></p>
              <p><strong>Cache Age:</strong> <span id="cache-age">-</span></p>
            </div>
            <div class="cache-controls">
              <button id="refresh-cache-btn" class="action-btn">Refresh Data</button>
              <button id="clear-cache-btn" class="action-btn danger">Clear Cache</button>
            </div>
            <p class="cache-note">
              Cache expires after 30 days. Pokemon data is automatically refreshed when expired.
            </p>
          </div>
        </div>
      </div>

      <!-- Main Content Area -->
      <div class="main-content">
        <!-- Sidebar with Filters -->
        <aside class="sidebar">
          <!-- Name Search -->
          <div class="search-section">
            <input
              type="text"
              id="name-search"
              class="name-search-input"
              placeholder="Search by name..."
              autocomplete="off"
            />
          </div>

          <!-- Generation Filters -->
          <div class="filter-section">
            <h3 class="filter-section-header">
              <span>Generation</span>
              <span class="collapse-icon">‚ñº</span>
            </h3>
            <div class="filter-buttons">
              <button class="filter-btn active" data-generation="all">
                All
              </button>
              <button class="filter-btn" data-generation="1">Gen 1</button>
              <button class="filter-btn" data-generation="2">Gen 2</button>
              <button class="filter-btn" data-generation="3">Gen 3</button>
              <button class="filter-btn" data-generation="4">Gen 4</button>
              <button class="filter-btn" data-generation="5">Gen 5</button>
              <button class="filter-btn" data-generation="6">Gen 6</button>
              <button class="filter-btn" data-generation="7">Gen 7</button>
              <button class="filter-btn" data-generation="8">Gen 8</button>
              <button class="filter-btn" data-generation="9">Gen 9</button>
            </div>
          </div>

          <!-- Type Filters -->
          <div class="filter-section">
            <h3 class="filter-section-header">
              <span>Type</span>
              <span class="collapse-icon">‚ñº</span>
            </h3>
            <div class="filter-buttons">
              <button class="filter-btn active" data-type="all">
                <span class="icon"></span>
                <span class="text">All</span>
              </button>
              <button class="filter-btn" data-type="normal">
                <span class="icon">‚óØ</span>
                <span class="text">Normal</span>
              </button>
              <button class="filter-btn" data-type="fire">
                <span class="icon">üî•</span>
                <span class="text">Fire</span>
              </button>
              <button class="filter-btn" data-type="water">
                <span class="icon">üíß</span>
                <span class="text">Water</span>
              </button>
              <button class="filter-btn" data-type="electric">
                <span class="icon">‚ö°</span>
                <span class="text">Electric</span>
              </button>
              <button class="filter-btn" data-type="grass">
                <span class="icon">üåø</span>
                <span class="text">Grass</span>
              </button>
              <button class="filter-btn" data-type="ice">
                <span class="icon">‚ùÑÔ∏è</span>
                <span class="text">Ice</span>
              </button>
              <button class="filter-btn" data-type="fighting">
                <span class="icon">‚úä</span>
                <span class="text">Fighting</span>
              </button>
              <button class="filter-btn" data-type="poison">
                <span class="icon">‚ò£</span>
                <span class="text">Poison</span>
              </button>
              <button class="filter-btn" data-type="ground">
                <span class="icon">üèúÔ∏è</span>
                <span class="text">Ground</span>
              </button>
              <button class="filter-btn" data-type="flying">
                <span class="icon">üïä</span>
                <span class="text">Flying</span>
              </button>
              <button class="filter-btn" data-type="psychic">
                <span class="icon">üîÆ</span>
                <span class="text">Psychic</span>
              </button>
              <button class="filter-btn" data-type="bug">
                <span class="icon">üêû</span>
                <span class="text">Bug</span>
              </button>
              <button class="filter-btn" data-type="rock">
                <span class="icon">‚õ∞Ô∏è</span>
                <span class="text">Rock</span>
              </button>
              <button class="filter-btn" data-type="ghost">
                <span class="icon">üëª</span>
                <span class="text">Ghost</span>
              </button>
              <button class="filter-btn" data-type="dragon">
                <span class="icon">üêâ</span>
                <span class="text">Dragon</span>
              </button>
              <button class="filter-btn" data-type="dark">
                <span class="icon">üåë</span>
                <span class="text">Dark</span>
              </button>
              <button class="filter-btn" data-type="steel">
                <span class="icon">‚öô</span>
                <span class="text">Steel</span>
              </button>
              <button class="filter-btn" data-type="fairy">
                <span class="icon">‚ú®</span>
                <span class="text">Fairy</span>
              </button>

              <button
                class="filter-btn type-count-toggle"
                id="type-count-toggle"
              >
                Single+Dual
              </button>
            </div>
          </div>

          <!-- Evolution Stage Filter -->
          <div class="filter-section">
            <h3 class="filter-section-header">
              <span>Evolution Stage</span>
              <span class="collapse-icon">‚ñº</span>
            </h3>
            <div class="evolution-filter-buttons">
              <button class="evolution-btn active" data-evolution="all">
                ALL
              </button>
              <button class="evolution-btn" data-evolution="1">Stage 1</button>
              <button class="evolution-btn" data-evolution="2">Stage 2</button>
              <button class="evolution-btn" data-evolution="3">Stage 3</button>
            </div>
          </div>

          <!-- Special Categories Filter -->
          <div class="filter-section">
            <h3 class="filter-section-header">
              <span>Special Categories</span>
              <span class="collapse-icon">‚ñº</span>
            </h3>
            <div class="filter-buttons">
              <button class="filter-btn" data-special="baby">Baby</button>
              <button class="filter-btn" data-special="legendary">
                Legendary
              </button>
              <button class="filter-btn" data-special="mythical">
                Mythical
              </button>
            </div>
          </div>

          <!-- Color Filter -->
          <div class="filter-section">
            <h3 class="filter-section-header">
              <span>Color</span>
              <span class="collapse-icon">‚ñº</span>
            </h3>
            <div class="filter-buttons">
              <button class="filter-btn" data-color="black">Black</button>
              <button class="filter-btn" data-color="blue">Blue</button>
              <button class="filter-btn" data-color="brown">Brown</button>
              <button class="filter-btn" data-color="gray">Gray</button>
              <button class="filter-btn" data-color="green">Green</button>
              <button class="filter-btn" data-color="pink">Pink</button>
              <button class="filter-btn" data-color="purple">Purple</button>
              <button class="filter-btn" data-color="red">Red</button>
              <button class="filter-btn" data-color="white">White</button>
              <button class="filter-btn" data-color="yellow">Yellow</button>
            </div>
          </div>
        </aside>

        <!-- Pokemon Grid -->
        <main class="pokemon-container">
          <div id="pokemon-grid" class="pokemon-grid">
            <!-- Pokemon cards will be dynamically inserted here -->
          </div>
        </main>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
